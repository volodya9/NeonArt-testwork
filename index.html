<!DOCTYPE html>
<html>
<head>
	<title>NeonART test</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
<header>
	<div class="container">
		<div class="header-wrap">
			<div class="header lside">
				<div class="logo">
					<a href="#">
						<img src="img/logo.png">
					</a>
				</div>
				<div class="breadcrumb">/ Объемные буквы</div>
			</div>
			<div class="header rside">
				<div class="phone"><a href="tel:+78432926211">+7(843)292-62-11</a></div>
				<div class="search">
					<form>
						<input type="search" name="">
						<button type="submit" value="Search"></button>
					</form>
				</div>
				<div class="menu-wrap">
					<span></span>
				</div>
			</div>
		</div>
	</div>
</header>
<section>
	<div class="container">
		<div class="lside">
			<div class="lside wrap">
				<div class="page-title">
					<h1>Конфигуратор букв</h1>
				</div>
				<div class="filter wrap">
					<form>
						<div class="form-options main">
							<div class="form-item size">
								<label>Размер, мм</label>
								<div class="size-wrap">
									<input type="radio" id="size-radio-1" name="radio">
									<label for="size-radio-1" class="size-variant selected">250</label>
									<input type="radio" id="size-radio-2" name="radio">
									<label for="size-radio-2" class="size-variant">350</label>
									<input type="radio" id="size-radio-3" name="radio">
									<label for="size-radio-3" class="size-variant">500</label>
								</div>
							</div>
							<div class="form-item letter">
								<label>Цвет букв</label>
								<div class="hidden-select">
									<select>
										<option value="#FFFFFF">Белый</option>
										<option value="#00FFFF">Бирюзовый</option>
										<option value="#1A60BE">Синий</option>
										<option value="#FF0000">Красный</option>
										<option value="#00FF00">Зеленый</option>
										<option value="#FFFF00">Желтый</option>
										<option value="#423189">Фиолетовый</option>
										<option value="#FFA500">Оранжевый</option>
										<option value="#C8A2C8">Сиреневый</option>
									</select>
								</div>
								<div class="js-select">
									<div class="js-selected">
										<div class="js-selected-item"></div>
										<div class="js-dropdown-select">
											<ul>
											</ul>
										</div>
									</div>
								</div>
							</div>
							<div class="form-item backface">
								<label>Цвет задника</label>
								<div class="hidden-select">
									<select>
										<option value="#1A60BE">Синий</option>
										<option value="#FFFFFF">Белый</option>
										<option value="#00FFFF">Бирюзовый</option>
										<option value="#FF0000">Красный</option>
										<option value="#00FF00">Зеленый</option>
										<option value="#FFFF00">Желтый</option>
										<option value="#423189">Фиолетовый</option>
										<option value="#FFA500">Оранжевый</option>
										<option value="#C8A2C8">Сиреневый</option>
									</select>
								</div>
								<div class="js-select">
									<div class="js-selected">
										<div class="js-selected-item"></div>
										<div class="js-dropdown-select">
											<ul>
											</ul>
										</div>
									</div>
								</div>
							</div>
							<div class="form-item background">
								<label>Цвет фона</label>
								<div class="hidden-select">
									<select>
										<option value="#423189">Фиолетовый</option>
										<option value="#FFFFFF">Белый</option>
										<option value="#00FFFF">Бирюзовый</option>
										<option value="#1A60BE">Синий</option>
										<option value="#FF0000">Красный</option>
										<option value="#00FF00">Зеленый</option>
										<option value="#FFFF00">Желтый</option>
										<option value="#FFA500">Оранжевый</option>
										<option value="#C8A2C8">Сиреневый</option>
									</select>
								</div>
								<div class="js-select">
									<div class="js-selected">
										<div class="js-selected-item"></div>
										<div class="js-dropdown-select">
											<ul>
											</ul>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="form-options extra">
							<div class="form-item radio">
								<input type="radio" id="radio-1" name="radio" checked>
								<label for="radio-1">Подсветка</label>
							</div>
							<div class="form-item radio">
								<input type="radio" id="radio-2" name="radio">
								<label for="radio-2">Другая опция</label>
							</div>
							<div class="form-item radio">
								<input type="radio" id="radio-3" name="radio">
								<label for="radio-3">Другая опция</label>
							</div>
						</div>
						<div class="work text">
							Продукты
						</div>
						<div class="result-wrap end">
							<div class="label text">Вы выбрали:</div>
							<div class="form-item result">
								<div class="info">8 букв классическим шрифтом</div>
								<div class="price">22500 р.</div>
								<div class="btn">Заказать</div>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
		<div class="rside">
			<div class="back-image"></div>
		</div>
	</div>
</section>
<footer>
	<div class="footer menu">
		<ul>
			<li><a href="#">Описание</a></li>
			<li><a href="#">Материалы</a></li>
			<li><a href="#">Технология и производство</a></li>
			<li><a href="#">Примеры использования</a></li>
		</ul>
	</div>
	<div class="footer logo">
		<img src="img/dev.png">
	</div>
</footer>
<script src="js/jquery-3.3.1.min.js"></script>
<script>
	(function($){
		$(document).ready(function(){
			var size = $(".size-variant.selected").html();
			var letter = $(".form-item.letter .hidden-select select option:selected");
			var backface = $(".form-item.backface .hidden-select select option:selected");
			var background = $(".form-item.background .hidden-select select option:selected");
			resultText(size, letter, backface, background);
			constructText(letter, backface, background);

			customSelectCreate();
			customSelectChosen();

			$(".size-variant").click(function(){
				sizeSelect(this);
			});
			$(".form-options").change(function(){
				size = $(".size-variant.selected").html();
				letter = $(".form-item.letter .hidden-select select option:selected");
				backface = $(".form-item.backface .hidden-select select option:selected");
				background = $(".form-item.background .hidden-select select option:selected");
				resultText(size, letter, backface, background);
				constructText(letter, backface, background);
				customSelectChosen();
			});
			$(".js-selected-item").click(function(e){
				e.stopPropagation();
				$(".js-dropdown-select").hide();
				$(this).parent().find(".js-dropdown-select").toggle();
			});
			$(document).click(function(){
				if ($(".js-dropdown-select").is(':visible')){
					$(".js-dropdown-select").hide();
				}
			});
			$(".js-dropdown-select li").click(function(){
				customSelectChange(this);
			});
		});

		// Формирование кастомного селекта
		function customSelectCreate(){
			$(".hidden-select option").each(function(){
					var color = $(this).attr("value");
					var name = $(this).text();
					var colorCl = color.substr(1);
					$(this).parents(".form-item").find(".js-dropdown-select ul").append("<li class="+colorCl+"><span style='background:"+color+";'></span>"+name+" ("+color+")</li>");
			});
		};
		// Отображение значения в кастомном селекте
		function customSelectChosen(){
			$(".hidden-select").each(function(){
				var item = $(this).find("select option:selected");
				var itemText = item.text();
				var color = item.attr("value");
				var colorCl = color.substr(1);
				$(this).parent().find(".js-selected-item").html("<span></span>"+itemText+" ("+color+")");
				$(this).parent().find(".js-selected-item span").css("background", color);
				$(this).parent().find(".js-dropdown-select li."+colorCl+"").addClass("selected");
			});
		};
		// Смена значения в кастомном селекте
		function customSelectChange(btn){
			var colorCl = $(btn).attr("class").split(' ')[0];
			$(btn).parents(".form-item").find(".hidden-select select").val("#"+colorCl).change();
			$(btn).parents(".js-dropdown-select").hide();
		};
		// Выбор размера вывески
		function sizeSelect(btn){
			var sizen = $(btn).text();
			if ($(".size-variant.selected").text() != $(btn).text()){
				$(".size-variant.selected").removeClass("selected");
				$(btn).addClass("selected");
			}
		};
		// Конфигуратор в текстовом виде
		function resultText(size, letter, backface, background){
			var letterColor = $(letter).text().toLowerCase();
			var backfaceColor = $(backface).text().toLowerCase();
			var backgroundColor = $(background).text().toLowerCase();
			var s = "8 букв классическим шрифтом размером "+size+"мм, цвет подложки "+letterColor+", цвет передника "+backfaceColor+", цвет фона "+backgroundColor+".";
			$(".result .info").html(s);
		};
		// Конструктор вывески 
		function constructText(letter, backface, background){
			var letterColor = $(letter).attr("value");
			var backfaceColor = $(backface).attr("value");
			var backgroundColor = $(background).attr("value");
			$(".work.text").css({"color": letterColor, "background-color": backgroundColor, "-webkit-text-stroke-color": backfaceColor});
		};
	})(jQuery);
</script>
</body>
</html>